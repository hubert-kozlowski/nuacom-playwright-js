"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7759],{"/kPb":function(e,r,t){t.d(r,{default:function(){return v}});var a=t("ZiZ2"),n=t("9f1P"),i=t.n(n),l=t("+/QE"),d=t.n(l),s=t("Y04Y"),o=t("JxxT");const u=i().div.withConfig({displayName:"DragAndDropUploadOverlay"})(["position:absolute;",";transition:background 0.2s;z-index:99;border-bottom-left-radius:","px;border-bottom-right-radius:","px;display:flex;justify-content:center;align-items:center;pointer-events:none;top:0;bottom:0;left:0;right:0;"],(({isOver:e})=>e&&"background-color: rgba(45, 62, 80, 0.3);\n  backdrop-filter: blur(2px);"),o.UPDATED_VISITOR_WIDGET_BORDER_RADIUS,o.UPDATED_VISITOR_WIDGET_BORDER_RADIUS);u.displayName="DragAndDropUploadOverlay";u.propTypes={isOver:d().bool.isRequired};var c=u,p=t("QOxE"),f=t("W5Gz");const g=["isOver"],h=i().div.withConfig({displayName:"UnifiedThreadViewWrapperWithDragUpload__UnifiedThreadViewWrapper"})(["display:flex;flex-direction:column;height:100%;"]),D=({children:e,onDropFiles:r,disabled:t})=>{const n=(0,p.useCallback)((r=>{let{isOver:t}=r,n=(0,a.default)(r,g);return(0,f.jsxs)(h,Object.assign({"data-test-id":"UnifiedThreadViewWrapper-testid"},n,{children:[e,(0,f.jsx)(c,{isOver:t})]}))}),[e]);return(0,f.jsx)(s.default,{onDropFiles:r,disabled:t,children:n})};D.displayName="UnifiedThreadViewWrapperWithDragUpload";D.propTypes={children:d().node.isRequired,disabled:d().bool.isRequired,onDropFiles:d().func.isRequired};var v=D},"5C1Q":function(e,r,t){t.r(r);t.d(r,{getTrackedIntermediateUrl:function(){return s},getTrackedSignupUrl:function(){return d}});var a=t("3BM9"),n=t("LSdF"),i=t("LZPL"),l=t.n(i);function d({flow:e,viralLinkType:r,environment:t=l().getShort(),additionalParams:i}){return(0,n.getSignupUrl)(e,r,(0,a.getDeviceId)(),"qa"===t,i)}function s({viralLinkType:e,additionalParams:r,portalId:t,environment:i,redirectPage:l}){const d=(0,a.getDeviceId)();return(0,n.getRedirectTrackingUrl)({viralLinkType:e,portalId:t,deviceId:d,environment:i,redirectPage:(0,n.getUrlWithViralParams)(l,e,d,r)})}},Y04Y:function(e,r,t){var a=t("QOxE");const n=e=>{e.preventDefault();e.stopPropagation()},i=e=>{var r;return Array.isArray(null==e||null===(r=e.dataTransfer)||void 0===r?void 0:r.types)&&e.dataTransfer.types.length&&e.dataTransfer.types.includes("Files")},l=({children:e,disabled:r=!1,ignoreDropWhenDefaultPrevented:t=!0,onDropFiles:l})=>{const[d,s]=(0,a.useState)(!1),o=(0,a.useRef)(null),u=(0,a.useCallback)((e=>{e.preventDefault();o.current=e.target;i(e)&&s(!0)}),[]),c=(0,a.useCallback)((e=>{e.preventDefault();!i(e)&&e.dataTransfer&&(e.dataTransfer.effectAllowed="none")}),[]),p=(0,a.useCallback)(n,[]),f=(0,a.useCallback)((e=>{if(o.current===e.target){o.current=null;s(!1)}}),[]),g=(0,a.useCallback)((e=>{s(!1);if(t&&e.isDefaultPrevented())return;const r=e.dataTransfer?e.dataTransfer.files:void 0;if(null!=r&&r.length){e.preventDefault();l(r)}}),[l,t]);return e(r?{isOver:!1,onDragOver:n,onDrop:n}:{isOver:d,onDrop:g,onDragEnter:u,onDragOver:p,onDragLeave:f,onDragStart:c})};l.displayName="AttachmentUploadDragAndDropWrapper";r.default=l},s2wo:function(e,r,t){t.r(r);var a=t("19qb"),n=t("ZnPt"),i=t("Wnz4"),l=t("ic5E"),d=t("3yBC"),s=t("Vmj9"),o=t("k09d"),u=t("/kPb"),c=t("89un"),p=t("1EAY"),f=t("PpSk"),g=t("yS+k"),h=t("evSZ"),D=t("W5Gz");const v=({onSetMessageTextExternally:e})=>{const r=(0,a.useSelector)((e=>!(0,p.isPersistedThread)((0,o.getSelectedThread)(e))||(0,h.getShouldDisableAttachments)(e)||!(0,n.canUploadAttachments)(e,{thread:(0,o.getSelectedThread)(e)}))),t=(0,a.useSelector)(o.getSelectedThread),v=(0,a.useDispatch)(),T=e=>{if(!e||!e.length)return;const r=e[0];/\.har$/.test(r.name)&&!(0,g.getIsPortal53)()?v((0,i.attachmentError)(d.INVALID_FILE_TYPE,(0,f.getThreadId)(t))):v((0,l.selectAttachmentFile)({file:r,thread:t,source:"drag_and_drop"}))};return(0,D.jsxs)(u.default,{onDropFiles:T,disabled:r,children:[(0,D.jsx)(s.default,{}),(0,D.jsx)(c.default,{onSetMessageTextExternally:e})]})};v.displayName="ThreadView";r.default=v}}]);
//# sourceMappingURL=//static.hsappstatic.net/conversations-visitor-ui/static-1.27989/SideDock-ThreadView.js.map